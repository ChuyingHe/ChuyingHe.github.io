
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../jinja2/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5">
    
    
      
        <title>HandsOn - Chuying's notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7a7fce14.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-install" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Chuying&#39;s notebook" class="md-header__button md-logo" aria-label="Chuying's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chuying's notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HandsOn
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Chuying&#39;s notebook" class="md-nav__button md-logo" aria-label="Chuying's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Chuying's notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Administrator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Administrator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Hardware
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Hardware
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/hardware/disk/" class="md-nav__link">
        Disk
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administrator/infrastructure/" class="md-nav__link">
        Infrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Architect
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Architect
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/architectural_thinking/" class="md-nav__link">
        Architectural Thinking
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          AWS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          AWS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/aws/cp/" class="md-nav__link">
        Cloud Practitioner
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
          Solution Architect Associate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          Solution Architect Associate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/aws/saa/" class="md-nav__link">
        Intro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/aws/saa/4.security/" class="md-nav__link">
        4. Security
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/aws/sap/" class="md-nav__link">
        Solution Architect Professional
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          IBM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          IBM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/ibm/security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/ibm/storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Guide from MemiLavi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Guide from MemiLavi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-1/" class="md-nav__link">
        1. Welcome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-2/" class="md-nav__link">
        2. What is a Software Architect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-3/" class="md-nav__link">
        3. The Architect's Mindset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-4/" class="md-nav__link">
        4. The Architecture Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-5/" class="md-nav__link">
        5. Working with System Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-6/" class="md-nav__link">
        6. Types of Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-7/" class="md-nav__link">
        7. Selecting Technology Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-8/" class="md-nav__link">
        8. Meet the *-ilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-9/" class="md-nav__link">
        9. Components' Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-10/" class="md-nav__link">
        10. Design Patterns
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-11/" class="md-nav__link">
        11. System Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-12/" class="md-nav__link">
        12. Additional Considerations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-13/" class="md-nav__link">
        13. Architecture Document
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-14/" class="md-nav__link">
        14. Case Study
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-15/" class="md-nav__link">
        15. Advanced Architecture Topics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/memi/memi-16/" class="md-nav__link">
        16. Soft Skills
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Design Patterns (DP)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Design Patterns (DP)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/design_patterns/1_intro/" class="md-nav__link">
        1. Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/design_patterns/2_creational/" class="md-nav__link">
        2. Creational DP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/design_patterns/3_structural/" class="md-nav__link">
        3. Structural DP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/design_patterns/4_behavioral/" class="md-nav__link">
        4. Behavioral DP
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
      
        <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          GCP PCAC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          GCP PCAC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../architect/gcp/1.preparation/" class="md-nav__link">
        1. Preparation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Automation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Automation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Ansible
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Ansible
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../certificate/" class="md-nav__link">
        Certificate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Intro
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          HandsOn
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        HandsOn
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Table of Contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install" class="md-nav__link">
    1. Install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-config" class="md-nav__link">
    2. Config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-inventory" class="md-nav__link">
    3. Inventory
  </a>
  
    <nav class="md-nav" aria-label="3. Inventory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alias" class="md-nav__link">
    alias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inventory-parameters" class="md-nav__link">
    inventory parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    groups
  </a>
  
    <nav class="md-nav" aria-label="groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#group-of-groups" class="md-nav__link">
    group of groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-variables" class="md-nav__link">
    4. Variables
  </a>
  
    <nav class="md-nav" aria-label="4. Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-precedence" class="md-nav__link">
    Variable Precedence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registering-variables" class="md-nav__link">
    Registering Variables
  </a>
  
    <nav class="md-nav" aria-label="Registering Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-debug" class="md-nav__link">
    How to debug
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-scope" class="md-nav__link">
    Variable Scope
  </a>
  
    <nav class="md-nav" aria-label="Variable Scope">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-host-scope" class="md-nav__link">
    - Host scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-play-scope" class="md-nav__link">
    - Play scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-global-scope" class="md-nav__link">
    - Global scope
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magic-variables" class="md-nav__link">
    Magic Variables
  </a>
  
    <nav class="md-nav" aria-label="Magic Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hostvars" class="md-nav__link">
    hostvars
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupsboston_nodes" class="md-nav__link">
    groups['boston_nodes']
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group_names" class="md-nav__link">
    group_names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-facts" class="md-nav__link">
    5. Facts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-playbook" class="md-nav__link">
    6. Playbook
  </a>
  
    <nav class="md-nav" aria-label="6. Playbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task" class="md-nav__link">
    Task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-run" class="md-nav__link">
    to run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-verify" class="md-nav__link">
    to verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-lint" class="md-nav__link">
    to lint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionals" class="md-nav__link">
    Conditionals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop" class="md-nav__link">
    Loop
  </a>
  
    <nav class="md-nav" aria-label="Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop_1" class="md-nav__link">
    loop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with_" class="md-nav__link">
    with_*
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-module" class="md-nav__link">
    7. Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-plugin" class="md-nav__link">
    8. Plugin
  </a>
  
    <nav class="md-nav" aria-label="8. Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types_1" class="md-nav__link">
    Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modules-and-plugins-index" class="md-nav__link">
    Modules and Plugins Index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-handlers" class="md-nav__link">
    9. Handlers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-roles" class="md-nav__link">
    10. Roles
  </a>
  
    <nav class="md-nav" aria-label="10. Roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-role" class="md-nav__link">
    create a role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-role" class="md-nav__link">
    use a role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansible-galaxy" class="md-nav__link">
    Ansible Galaxy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-collections" class="md-nav__link">
    11. Collections
  </a>
  
    <nav class="md-nav" aria-label="11. Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#x-ansible-cli-summary" class="md-nav__link">
    x. Ansible CLI Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../jinja2/" class="md-nav__link">
        Jinja2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../argocd/" class="md-nav__link">
        ArgoCD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../benthos/" class="md-nav__link">
        Benthos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../helm/" class="md-nav__link">
        Helm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../n8n/" class="md-nav__link">
        n8n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodered/intro/" class="md-nav__link">
        NodeRed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../icalBuddy/" class="md-nav__link">
        iCalBuddy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Bash Script
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Bash Script
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../bash_script/" class="md-nav__link">
        Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../bash_script/exercises/" class="md-nav__link">
        Exercises
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/yaml/" class="md-nav__link">
        YAML
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3_1" id="__nav_6_3_1_label" tabindex="0">
          CKA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_1">
          <span class="md-nav__icon md-icon"></span>
          CKA
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-0/" class="md-nav__link">
        Read before exam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-1/" class="md-nav__link">
        cka-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-3/" class="md-nav__link">
        cka-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-4/" class="md-nav__link">
        cka-4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-5/" class="md-nav__link">
        cka-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-6/" class="md-nav__link">
        cka-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-7/" class="md-nav__link">
        cka-7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-8/" class="md-nav__link">
        8.Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-9/" class="md-nav__link">
        cka-9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-10/" class="md-nav__link">
        cka-10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-11/" class="md-nav__link">
        cka-11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-12/" class="md-nav__link">
        cka-12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-13/" class="md-nav__link">
        cka-13
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-14/" class="md-nav__link">
        cka-14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-15/" class="md-nav__link">
        cka-15
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/cka/cka-16/" class="md-nav__link">
        cka-16
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
          CKAD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_2">
          <span class="md-nav__icon md-icon"></span>
          CKAD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-0/" class="md-nav__link">
        Read before exam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-1/" class="md-nav__link">
        1.核心概念介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-2/" class="md-nav__link">
        2.配置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-3/" class="md-nav__link">
        3.多容器Pod
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-4/" class="md-nav__link">
        4.容器状态监测
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-5/" class="md-nav__link">
        5.Pod设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-6/" class="md-nav__link">
        6.服务与网络
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-7/" class="md-nav__link">
        7.容器数据的可持久化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-8/" class="md-nav__link">
        8.2021更新的考试内容
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/ckad/ckad-9/" class="md-nav__link">
        其他
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/k8s/others/" class="md-nav__link">
        Others
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/minikube/" class="md-nav__link">
        Minikube
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/podman/" class="md-nav__link">
        Podman
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
          OpenShift
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          OpenShift
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/deployment/" class="md-nav__link">
        App Deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6_2" id="__nav_6_6_2_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/installation/" class="md-nav__link">
        Intro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/installation/ipi/" class="md-nav__link">
        IPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/installation/upi/" class="md-nav__link">
        UPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/installation/mirror_registry/" class="md-nav__link">
        Mirror Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/installation/network/" class="md-nav__link">
        Network
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/internal_registry/" class="md-nav__link">
        Internal Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/monitoring_stack/" class="md-nav__link">
        Monitoring Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/operator/" class="md-nav__link">
        Operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6_7" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6_7" id="__nav_6_6_7_label" tabindex="0">
          DO288
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6_7">
          <span class="md-nav__icon md-icon"></span>
          DO288
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/01_deploy_app/" class="md-nav__link">
        Deploying and Managing Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/02/" class="md-nav__link">
        2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/03/" class="md-nav__link">
        3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/04/" class="md-nav__link">
        4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/05/" class="md-nav__link">
        5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/06/" class="md-nav__link">
        6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/07/" class="md-nav__link">
        7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do288/08/" class="md-nav__link">
        8
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6_8" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6_8" id="__nav_6_6_8_label" tabindex="0">
          DO280
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6_8">
          <span class="md-nav__icon md-icon"></span>
          DO280
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/01_manifest_kustimize/" class="md-nav__link">
        1. Manifest & Kustomize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/02_template_helm/" class="md-nav__link">
        2. OC Template & Helm Chart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/03_auth/" class="md-nav__link">
        3. Authentication and Authorization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/04_network_security/" class="md-nav__link">
        4. Network Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/05_expose_sni_app/" class="md-nav__link">
        5. Expose SNI Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/06_developer_self_service/" class="md-nav__link">
        6. Enable Developer Self-Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/07_kubernetes_operator/" class="md-nav__link">
        7. Kubernetes Operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/08_application_security/" class="md-nav__link">
        8. Application Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/09_oc_updates/" class="md-nav__link">
        9. Openshift Updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do280/10/" class="md-nav__link">
        10
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6_9" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6_9" id="__nav_6_6_9_label" tabindex="0">
          DO322
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_6_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6_9">
          <span class="md-nav__icon md-icon"></span>
          DO322
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do322/01/" class="md-nav__link">
        1. Intro to OpenShift Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do322/02/" class="md-nav__link">
        2. IPI on Cloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do322/03/" class="md-nav__link">
        3. IPI & UPI on Virtual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do322/04/" class="md-nav__link">
        4. UPI without Infrastructure Provider
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/openshift/do322/05/" class="md-nav__link">
        5. Operations & Maintainance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Data Scientist
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Data Scientist
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_scientist/embedding/" class="md-nav__link">
        Embedding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_scientist/elastic_search/" class="md-nav__link">
        ElasticSearch
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../design_thinking/" class="md-nav__link">
        Design Thinking
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          DevOps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          DevOps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dev_ops/observability/" class="md-nav__link">
        Observability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Ecommerce
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Ecommerce
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ecommerce/wordpress/" class="md-nav__link">
        Wordpress
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
      
      
      
        <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          Frontend
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Frontend
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_1" >
      
      
      
        <label class="md-nav__link" for="__nav_11_1" id="__nav_11_1_label" tabindex="0">
          CSS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          CSS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/css/css-in-depth/" class="md-nav__link">
        CSS In Depth
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/css/shapes/" class="md-nav__link">
        Shape
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/cra/" class="md-nav__link">
        CRA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/gsap/" class="md-nav__link">
        GSAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/js/" class="md-nav__link">
        JavaScript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/nginx/" class="md-nav__link">
        Nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_6" >
      
      
      
        <label class="md-nav__link" for="__nav_11_6" id="__nav_11_6_label" tabindex="0">
          React
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11_6">
          <span class="md-nav__icon md-icon"></span>
          React
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/react/hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/react/basics/" class="md-nav__link">
        Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/react/bugs/" class="md-nav__link">
        Bugs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/react/oblivion/" class="md-nav__link">
        Oblivion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/react/resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/web_design/" class="md-nav__link">
        Web Design
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../ffmpeg/" class="md-nav__link">
        ffmpeg
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
      
      
      
        <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
          IDEs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          IDEs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ide/vscode/" class="md-nav__link">
        VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
      
      
      
        <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
          Monitoring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Monitoring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/basic/" class="md-nav__link">
        Basic
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14_2" >
      
      
      
        <label class="md-nav__link" for="__nav_14_2" id="__nav_14_2_label" tabindex="0">
          Instana
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_14_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_14_2">
          <span class="md-nav__icon md-icon"></span>
          Instana
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/clis/" class="md-nav__link">
        CLIs, Namespaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/1.jargons/" class="md-nav__link">
        Jargons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/2.agent_sensor/" class="md-nav__link">
        Agent, Sensor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/3.trace/" class="md-nav__link">
        Trace, Call, Span
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/4.event/" class="md-nav__link">
        Event, Alert
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/5.api/" class="md-nav__link">
        Integration, SKD, API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/instana/theory/6.ui/" class="md-nav__link">
        UI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/grafana/" class="md-nav__link">
        Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14_4" >
      
      
      
        <label class="md-nav__link" for="__nav_14_4" id="__nav_14_4_label" tabindex="0">
          Prometheus
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_14_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_14_4">
          <span class="md-nav__icon md-icon"></span>
          Prometheus
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/prometheus/alertmanager/" class="md-nav__link">
        - Alertmanager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/prometheus/" class="md-nav__link">
        Intro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring/prometheus/hands_on/" class="md-nav__link">
        HandsOn
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
      
      
      
        <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
          Network
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Network
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../network/ip/" class="md-nav__link">
        IP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../network/loadbalancer/" class="md-nav__link">
        LoadBalancer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../network/protocols/" class="md-nav__link">
        Protocols
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
      
      
      
        <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
          Project Mgmt
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          Project Mgmt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../project_mgmt/agile/" class="md-nav__link">
        Agile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../project_mgmt/git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../project_mgmt/ibm_internal/" class="md-nav__link">
        IBM PM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
      
      
      
        <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/grammars/" class="md-nav__link">
        Grammars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/fastapi/" class="md-nav__link">
        FastAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/oblivion/" class="md-nav__link">
        Oblivion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/dependencies/" class="md-nav__link">
        Use dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/build_dependency/" class="md-nav__link">
        Build Own Dependency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/virtual_env/" class="md-nav__link">
        Virtual environment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../regex/" class="md-nav__link">
        Regex
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
      
      
      
        <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
          Sketch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          Sketch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sketch/procreate/" class="md-nav__link">
        Procreate
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
      
      
      
        <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
          Working Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          Working Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_notes/01_2025/" class="md-nav__link">
        202501
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Table of Contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-install" class="md-nav__link">
    1. Install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-config" class="md-nav__link">
    2. Config
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-inventory" class="md-nav__link">
    3. Inventory
  </a>
  
    <nav class="md-nav" aria-label="3. Inventory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alias" class="md-nav__link">
    alias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inventory-parameters" class="md-nav__link">
    inventory parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groups" class="md-nav__link">
    groups
  </a>
  
    <nav class="md-nav" aria-label="groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#group-of-groups" class="md-nav__link">
    group of groups
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-variables" class="md-nav__link">
    4. Variables
  </a>
  
    <nav class="md-nav" aria-label="4. Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-precedence" class="md-nav__link">
    Variable Precedence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registering-variables" class="md-nav__link">
    Registering Variables
  </a>
  
    <nav class="md-nav" aria-label="Registering Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-debug" class="md-nav__link">
    How to debug
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variable-scope" class="md-nav__link">
    Variable Scope
  </a>
  
    <nav class="md-nav" aria-label="Variable Scope">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-host-scope" class="md-nav__link">
    - Host scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-play-scope" class="md-nav__link">
    - Play scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-global-scope" class="md-nav__link">
    - Global scope
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#magic-variables" class="md-nav__link">
    Magic Variables
  </a>
  
    <nav class="md-nav" aria-label="Magic Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hostvars" class="md-nav__link">
    hostvars
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupsboston_nodes" class="md-nav__link">
    groups['boston_nodes']
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group_names" class="md-nav__link">
    group_names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-facts" class="md-nav__link">
    5. Facts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-playbook" class="md-nav__link">
    6. Playbook
  </a>
  
    <nav class="md-nav" aria-label="6. Playbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task" class="md-nav__link">
    Task
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-run" class="md-nav__link">
    to run
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-verify" class="md-nav__link">
    to verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-lint" class="md-nav__link">
    to lint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionals" class="md-nav__link">
    Conditionals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop" class="md-nav__link">
    Loop
  </a>
  
    <nav class="md-nav" aria-label="Loop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loop_1" class="md-nav__link">
    loop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with_" class="md-nav__link">
    with_*
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-module" class="md-nav__link">
    7. Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-plugin" class="md-nav__link">
    8. Plugin
  </a>
  
    <nav class="md-nav" aria-label="8. Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types_1" class="md-nav__link">
    Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modules-and-plugins-index" class="md-nav__link">
    Modules and Plugins Index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-handlers" class="md-nav__link">
    9. Handlers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-roles" class="md-nav__link">
    10. Roles
  </a>
  
    <nav class="md-nav" aria-label="10. Roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-role" class="md-nav__link">
    create a role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-a-role" class="md-nav__link">
    use a role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ansible-galaxy" class="md-nav__link">
    Ansible Galaxy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-collections" class="md-nav__link">
    11. Collections
  </a>
  
    <nav class="md-nav" aria-label="11. Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    create
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install" class="md-nav__link">
    install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use" class="md-nav__link">
    use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#x-ansible-cli-summary" class="md-nav__link">
    x. Ansible CLI Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>HandsOn</h1>

<ul>
<li><a href="https://ibm-learning.udemy.com/course/learn-ansible/learn/lecture/16681102#overview">Udemy Course</a></li>
<li><a href="https://learn.kodekloud.com/user/courses/labs-ansible-for-the-absolute-beginners?utm_source=udemy&amp;utm_medium=labs&amp;utm_campaign=ansible">Kodekloud</a></li>
</ul>
<h3 id="1-install">1. Install<a class="headerlink" href="#1-install" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>ansible
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ansible is VERY STRICT about identation</p>
</div>
<h3 id="2-config">2. Config<a class="headerlink" href="#2-config" title="Permanent link">&para;</a></h3>
<p>double check the version and where the default config file is:</p>
<div class="highlight"><pre><span></span><code>&gt;<span class="w"> </span>ansible<span class="w"> </span>--version
ansible<span class="w"> </span><span class="o">[</span>core<span class="w"> </span><span class="m">2</span>.18.6<span class="o">]</span>
<span class="w">  </span>config<span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>None
<span class="w">  </span>configured<span class="w"> </span>module<span class="w"> </span>search<span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;/Users/&lt;User&gt;/.ansible/plugins/modules&#39;</span>,<span class="w"> </span><span class="s1">&#39;/usr/share/ansible/plugins/modules&#39;</span><span class="o">]</span>
<span class="w">  </span>ansible<span class="w"> </span>python<span class="w"> </span>module<span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/opt/homebrew/Cellar/ansible/11.7.0_1/libexec/lib/python3.13/site-packages/ansible
<span class="w">  </span>ansible<span class="w"> </span>collection<span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/Users/&lt;User&gt;/.ansible/collections:/usr/share/ansible/collections
<span class="w">  </span>executable<span class="w"> </span><span class="nv">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/opt/homebrew/bin/ansible
<span class="w">  </span>python<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>.13.7<span class="w"> </span><span class="o">(</span>main,<span class="w"> </span>Aug<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">2025</span>,<span class="w"> </span><span class="m">11</span>:12:11<span class="o">)</span><span class="w"> </span><span class="o">[</span>Clang<span class="w"> </span><span class="m">17</span>.0.0<span class="w"> </span><span class="o">(</span>clang-1700.0.13.3<span class="o">)]</span><span class="w"> </span><span class="o">(</span>/opt/homebrew/Cellar/ansible/11.7.0_1/libexec/bin/python<span class="o">)</span>
<span class="w">  </span>jinja<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>.1.6
<span class="w">  </span><span class="nv">libyaml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Config File</p>
<ul>
<li>commonly used location in iOS: <code>/Users/&lt;User&gt;/ansible.cfg</code></li>
<li>
<p>the <strong>configuration parameters</strong> are divided into <strong>sections</strong>:</p>
<ul>
<li><code>[default]</code></li>
<li><code>[inventory]</code></li>
<li><code>[privileges_escalation]</code></li>
<li><code>[paramiko_connection]</code></li>
<li><code>[ssh_connection]</code></li>
<li><code>[persistent_connection]</code></li>
<li><code>[colors]</code></li>
</ul>
</li>
<li>
<p>example of <code>[default]</code> section:
    <div class="highlight"><pre><span></span><code><span class="k">[defaults]</span>
<span class="na">inventory</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">/etc/ansible/hosts</span>
<span class="na">1og_path</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">/var/log/ansible.log</span>

<span class="na">library</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s">/usr/share/my_modules/</span>
<span class="na">roles_path</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s">/etc/ansible/roles</span>
<span class="na">action_plugins</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">/usr/share/ansible/plugins/action</span>

<span class="na">gathering</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">implicit</span>

<span class="c1"># SSH timeout</span>
<span class="na">timeout</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s">10</span>
<span class="na">forks</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s">5</span>
</code></pre></div></p>
</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Multiple Configuration Possiblities with priority</p>
<ol>
<li><strong>[CLI]</strong> single parameter as ENV: <ul>
<li>temporary oneliner:
  <div class="highlight"><pre><span></span><code><span class="nv">ANSIBLE_GATHERING</span><span class="o">=</span>explicit<span class="w"> </span>ansible-playbook<span class="w"> </span>playbook.yml
</code></pre></div></li>
<li>shell-wide:
  <div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">ANSIBLE_GATHERING</span><span class="o">=</span>explicit<span class="w"> </span>
ansible-playbook<span class="w"> </span>playbook.yml
</code></pre></div></li>
</ul>
</li>
<li><strong>[CLI]</strong> <code>ANSIBLE_CONFIG=*.cfg</code> file pass as ENV: 
  <div class="highlight"><pre><span></span><code><span class="nv">ANSIBLE_CONFIG</span><span class="o">=</span>/opt/ansible-common.cfg<span class="w"> </span>ansible-playbook<span class="w"> </span>playbook.yml
</code></pre></div></li>
<li><strong>[FILE]</strong> <code>*.cfg</code> in the Playbook's directory </li>
<li><strong>[FILE]</strong> <code>~/.ansible.cfg</code> in HOME directory</li>
<li><strong>[FILE]</strong> default <code>ansible.cfg</code> (in MacOS, mostly in <code>/Users/&lt;User&gt;/ansible.cfg</code>)</li>
</ol>
</div>
<div class="admonition info">
<p class="admonition-title">View Configuration</p>
<div class="highlight"><pre><span></span><code><span class="c1"># render all config</span>
ansible-config<span class="w"> </span>list

<span class="c1"># show current config file</span>
ansible-config<span class="w"> </span>view

<span class="c1"># show all config, and where got them from</span>
ansible-config<span class="w"> </span>dump
</code></pre></div>
</div>
<h3 id="3-inventory">3. Inventory<a class="headerlink" href="#3-inventory" title="Permanent link">&para;</a></h3>
<p><strong>inventory</strong> is a list of all machines that involved in task executions. the <strong>Inventory</strong> can be written in INI or YAML formats, here are examples:</p>
<ul>
<li>INI
  <div class="highlight"><pre><span></span><code><span class="na">10.24.0.100</span>

<span class="k">[webservers]</span>
<span class="na">webl.example.com</span>
<span class="na">Web2.example.com</span>

<span class="k">[dbservers]</span>
<span class="na">10.24.0.7</span>
<span class="na">10.24.0.8</span>

<span class="k">[allservers:children]</span>
<span class="na">webservers</span>
<span class="na">dbservers</span>
</code></pre></div></li>
<li>
<p>YAML: suitable for more complex organisation
  <div class="highlight"><pre><span></span><code><span class="nt">allservers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">children</span><span class="p">:</span>
<span class="w">    </span><span class="nt">webservers</span><span class="p">:</span><span class="w"> </span>
<span class="w">      </span><span class="nt">hosts</span><span class="p">:</span>
<span class="w">        </span><span class="nt">webl.example.com</span><span class="p">:</span><span class="w"> </span>
<span class="w">        </span><span class="nt">web2.example.com</span><span class="p">:</span>
<span class="w">    </span><span class="nt">dbservers</span><span class="p">:</span><span class="w"> </span>
<span class="w">      </span><span class="nt">hosts</span><span class="p">:</span>
<span class="w">        </span><span class="nt">db1.example.com</span><span class="p">:</span>
<span class="w">        </span><span class="nt">db2.example.com</span><span class="p">:</span>
</code></pre></div></p>
</li>
<li>
<p>you can use either <u>IP address</u> or <u>hostnames</u></p>
</li>
<li>the IP could be from Cloud Servers, Virtual Machine or Bare Metal Servers</li>
<li>default inventory file: <code>/etc/ansible/hosts</code></li>
</ul>
<h4 id="alias">alias<a class="headerlink" href="#alias" title="Permanent link">&para;</a></h4>
<p>here we specifiy alias: <code>web</code>, <code>db</code>, <code>mail</code>, <code>web2</code>
<div class="highlight"><pre><span></span><code>web<span class="w">   </span><span class="nv">ansible_host</span><span class="o">=</span>server1.company.com
db<span class="w">    </span><span class="nv">ansible_host</span><span class="o">=</span>server2.company.com
mail<span class="w">  </span><span class="nv">ansible_host</span><span class="o">=</span>server3.company.com
web2<span class="w">  </span><span class="nv">ansible_host</span><span class="o">=</span>server4.company.com
</code></pre></div></p>
<h4 id="inventory-parameters">inventory parameters<a class="headerlink" href="#inventory-parameters" title="Permanent link">&para;</a></h4>
<p>common <strong>inventory parameters</strong>:</p>
<ul>
<li><code>ansible_host</code>: the FQDN or IP address of a server</li>
<li><code>ansible_connection</code>: how to connect to the server</li>
<li><code>ansible_port</code>: the connection port --&gt; by default <code>22</code>for ssh</li>
<li><code>ansible_user</code>: the user used to make remote connections --&gt; by default is <code>root</code> for linux</li>
<li><code>ansible_ssh_pass</code> defines the SSH password for Linux. --&gt; NOT best practise -&gt; because the password will be plain text</li>
</ul>
<p>Example:
<div class="highlight"><pre><span></span><code>web<span class="w">   </span><span class="nv">ansible_host</span><span class="o">=</span>server1.company.com<span class="w">  </span><span class="nv">ansible_connection</span><span class="o">=</span>ssh<span class="w">    </span><span class="nv">ansible_user</span><span class="o">=</span>root
db<span class="w">    </span><span class="nv">ansible_host</span><span class="o">=</span>server2.company.com<span class="w">  </span><span class="nv">ansible_connection</span><span class="o">=</span>winrm<span class="w">  </span><span class="nv">ansible_user</span><span class="o">=</span>admin
mail<span class="w">  </span><span class="nv">ansible_host</span><span class="o">=</span>server3.company.com<span class="w">  </span><span class="nv">ansible_connection</span><span class="o">=</span>ssh<span class="w">    </span><span class="nv">ansible_ssh_pass</span><span class="o">=</span>p@ssw0rd
web2<span class="w">  </span><span class="nv">ansible_host</span><span class="o">=</span>server4.company.com<span class="w">  </span><span class="nv">ansible_connection</span><span class="o">=</span>winrm

<span class="c1"># localhost: </span>
<span class="c1">#     有一个名为 &quot;localhost&quot; （alias=localhost） 的目标主机</span>
<span class="c1"># ansible_connection=localhost:</span>
<span class="c1">#     使用 localhost 连接插件（即不在远程服务器上执行，而是在当前控制机本地执行任务）</span>
localhost<span class="w"> </span><span class="nv">ansible_connection</span><span class="o">=</span>localhost
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">winrm</p>
<p><code>WinRM</code> stands for <strong>Windows Remote Management</strong>. It is Microsoft's protocol for remotely managing Windows systems, similar to what SSH is for Linux/Unix systems.</p>
<table>
<thead>
<tr>
<th align="left"><code>ansible_connection</code></th>
<th align="left"><strong>inventory parameters</strong> for password</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>ssh</code></td>
<td align="left"><code>ansible_ssh_pass</code></td>
</tr>
<tr>
<td align="left"><code>winrm</code></td>
<td align="left"><code>ansible_password</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="groups">groups<a class="headerlink" href="#groups" title="Permanent link">&para;</a></h4>
<p>use <code>[group_name]</code> to group servers together, so that you can reference them in the <strong>Play</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>webservers<span class="o">]</span>
web1.myserver.com
web2.myserver.com
</code></pre></div>
<h5 id="group-of-groups">group of groups<a class="headerlink" href="#group-of-groups" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="o">[</span>web_servers<span class="o">]</span>
web1
web2

<span class="o">[</span>db_servers<span class="o">]</span>
db1

<span class="o">[</span>all_servers:children<span class="o">]</span><span class="w">    </span><span class="c1"># &lt;-- 注意这里要加 :children</span>
web_servers
db_servers
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">常见的应用场景</p>
<p>make groups out of different perspectives:<br />
<div class="highlight"><pre><span></span><code><span class="o">[</span>db_nodes<span class="o">]</span>
sql_db1
sql_db2

<span class="o">[</span>web_nodes<span class="o">]</span>
web_node1
web_node2
web_node3

<span class="o">[</span>boston_nodes<span class="o">]</span>
sql_db1
web_node1

<span class="o">[</span>dallas_nodes<span class="o">]</span>
sql_db2
web_node2
web_node3
</code></pre></div></p>
</div>
<h3 id="4-variables">4. Variables<a class="headerlink" href="#4-variables" title="Permanent link">&para;</a></h3>
<p><strong>Variables</strong> store information that varies with each host using <a href="../jinja2/">Jinja2 Tempating</a>. The <strong>Common Inventory Parameters</strong> are pre-defined <strong>variables</strong>. </p>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Add DNS server to resolv.conf</span>
<span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="nt">vars</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dns_server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.1.250.10</span><span class="w">                 </span><span class="c1"># variable definition</span>
<span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lineinfile</span><span class="p">:</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/etc/resolv.conf</span><span class="w"> </span>
<span class="w">      </span><span class="nt">line</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;nameserver</span><span class="nv"> </span><span class="s">{{</span><span class="nv"> </span><span class="s">dns_server</span><span class="nv"> </span><span class="s">}}&#39;</span><span class="w"> </span><span class="c1"># variable usage</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">how to use</p>
<ul>
<li>pure variable: <code>source: '{{ dns_server }}'</code> --&gt; WITH quotes!</li>
<li>variable concatenated in text: <code>source: blabla{{ dns_server }}blabla</code> --&gt; WITHOUT quotes!</li>
</ul>
</div>
<h4 id="types">Types<a class="headerlink" href="#types" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>String</strong></li>
<li><strong>Number</strong>: integer or float</li>
<li><strong>Boolean</strong>: <ul>
<li><code>true</code> = <code>True</code>, <code>'true'</code>, <code>'t'</code>, <code>'yes'</code>, <code>'y'</code>, <code>'on'</code>, <code>'1'</code>, <code>1</code>, <code>1.0</code></li>
<li><code>false</code> = <code>False</code>, <code>'false'</code>, <code>'f'</code>, <code>'no'</code>, <code>'n'</code>, <code>'off'</code>, <code>'0'</code>, <code>0</code>, <code>0.0</code></li>
</ul>
</li>
<li><strong>List</strong>: list of value(of any type):<ul>
<li>example:
  <div class="highlight"><pre><span></span><code><span class="nt">packages</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">git</span>
</code></pre></div></li>
<li>usage:
  <div class="highlight"><pre><span></span><code><span class="c1"># whole list</span>
<span class="nt">loop</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">packages</span><span class="nv"> </span><span class="s">}}&quot;</span>

<span class="c1"># first value in the list</span>
<span class="nt">package0</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">packages[0]]</span><span class="nv"> </span><span class="s">}}&quot;</span>
</code></pre></div></li>
</ul>
</li>
<li><strong>Dictionary</strong>: key and value can be any type<ul>
<li>example:
  <div class="highlight"><pre><span></span><code><span class="nt">user</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;admin&quot;</span>
<span class="w">  </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;secret&quot;</span>
</code></pre></div></li>
<li>usage
  <div class="highlight"><pre><span></span><code><span class="c1"># whole dict</span>
<span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">user</span><span class="nv"> </span><span class="s">}}&quot;</span>

<span class="c1"># first element in the dict</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">user.name</span><span class="nv"> </span><span class="s">}}&quot;</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li><code>dict</code> has no order</li>
<li><code>list</code> has order, therefore <strong>tasks</strong>(<strong>plays</strong>) could be depending on other <strong>tasks</strong>(<strong>plays</strong>)</li>
</ul>
</div>
<h4 id="variable-precedence">Variable Precedence<a class="headerlink" href="#variable-precedence" title="Permanent link">&para;</a></h4>
<p>you can define <strong>variable</strong> in different ways (with prioritized order), here are some examples:</p>
<ol>
<li>in inventory's <strong>group</strong>
    <div class="highlight"><pre><span></span><code><span class="p p-Indicator">[</span><span class="nv">web_servers</span><span class="p p-Indicator">:</span><span class="nv">vars</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">dns_server=10.5.5.3</span>
</code></pre></div></li>
<li>in inventory's <strong>host</strong>
    <div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">web2 ansible_host=172.20.1.101  dns_server=10.5.5.4</span>
</code></pre></div></li>
<li>in <strong>play</strong>/<strong>playbook</strong>
    <div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure DNS Server</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">dns_server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.5.5.5</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">nsupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">dns_server</span><span class="nv"> </span><span class="s">}}&#39;</span>
</code></pre></div></li>
<li>in <strong>CLI</strong>:
    <div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml<span class="w"> </span>--extra-vars<span class="w"> </span><span class="s2">&quot;dns_server=10.5.5.6&quot;</span>
</code></pre></div></li>
</ol>
<div class="admonition info">
<p class="admonition-title">Full Variable Precedence List</p>
<p><a href="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_variables.html#understanding-variable-precedence">variable precedence</a></p>
</div>
<h4 id="registering-variables">Registering Variables<a class="headerlink" href="#registering-variables" title="Permanent link">&para;</a></h4>
<p>in a <strong>play</strong>, you can use a special variable - <strong>Registering Variables</strong> to pass result of a <strong>task</strong> to the upcoming <strong>task</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check /etc/hosts file</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat /etc/hosts</span>
<span class="w">      </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="w">      </span><span class="c1"># to create a Registering Variables `result`</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fail if mount point doesn&#39;t exist</span>
<span class="w">  </span><span class="nt">debug</span><span class="p">:</span><span class="w">  </span>
<span class="w">    </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title"><code>result</code></p>
<p>a example of <code>result</code> content</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;changed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cat /etc/hosts&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;delta&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0:00:00.005621&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;end&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15 10:30:45.123456&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;failed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;rc&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15 10:30:45.117835&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;stderr&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;stderr_lines&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="nt">&quot;stdout&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;127.0.0.1   localhost\n127.0.1.1   my-ubuntu-server\n192.168.1.10 webserver01\n192.168.1.20 dbserver01\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;stdout_lines&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;127.0.0.1   localhost&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;127.0.1.1   my-ubuntu-server&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;192.168.1.10 webserver01&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;192.168.1.20 dbserver01&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;# The following lines are desirable for IPv6 capable hosts&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;::1     ip6-localhost ip6-loopback&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;fe00::0 ip6-localnet&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ff00::0 ip6-mcastprefix&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ff02::1 ip6-allnodes&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;ff02::2 ip6-allrouters&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>important attributes:</p>
<ul>
<li><code>.changed</code>: Whether the task changed the system</li>
<li><code>.cmd</code>:  The command that was executed</li>
<li><code>.rc</code> Return code (0 = success)</li>
<li><code>.stdout</code>:  Full command output as a string</li>
<li><code>.stdout_lines</code>:  Output as a list (array) of lines</li>
<li><code>.stderr</code>:  Error output (if any)</li>
<li><code>.failed</code>:  Whether the task failed</li>
<li><code>.start/.end</code>:  Timestamps of execution</li>
</ul>
</div>
<h5 id="how-to-debug">How to debug<a class="headerlink" href="#how-to-debug" title="Permanent link">&para;</a></h5>
<p>2 ways to debug and see what a <strong>registering variable</strong> content</p>
<ol>
<li>use <code>debug</code> mode
    <div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check /etc/hosts file</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">shell</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat /etc/hosts</span><span class="w"> </span><span class="c1"># ---- register mode ----</span>
<span class="w">    </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="w">      </span><span class="c1"># 1. register a variable named &quot;result&quot;, saved shell result to it</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span><span class="w">                </span><span class="c1"># ---- debug mode ----</span>
<span class="w">    </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="w">           </span><span class="c1"># 2. print &quot;result&quot;</span>
</code></pre></div></li>
<li>add flag <code>-v</code> while running the playbook:
    <div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>–i<span class="w"> </span>inventory<span class="w"> </span>playbook.yml<span class="w"> </span>–v
</code></pre></div></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">scope</p>
<p><strong>registering variable</strong> is associated to its <strong>host</strong> and is available for the rest of the <strong>playbook</strong> execution.</p>
</div>
<h4 id="variable-scope">Variable Scope<a class="headerlink" href="#variable-scope" title="Permanent link">&para;</a></h4>
<p><strong>Variables</strong> has scope depends on where they are declared:</p>
<h5 id="-host-scope">- Host scope<a class="headerlink" href="#-host-scope" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="c1"># accessible in ALL hosts</span>
<span class="k">[all:vars]</span><span class="w"> </span>
<span class="na">app_list</span><span class="o">=</span><span class="s">[&#39;vim&#39;, &#39;sqlite&#39;, &#39;jq&#39;]</span>

<span class="c1"># accessible in CURRENT host</span>
<span class="na">localhost ansible_connection</span><span class="o">=</span><span class="s">local nameserver_ip=8.8.8.8 snmp_port=160-161</span><span class="w">  </span><span class="c1"># snmp_port is ONLY accessible for &quot;localhost&quot;</span>
<span class="na">node01 ansible_host</span><span class="o">=</span><span class="s">node01 ansible_ssh_pass=caleston123</span>
</code></pre></div>
<h5 id="-play-scope">- Play scope<a class="headerlink" href="#-play-scope" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Play1</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web1</span><span class="w"> </span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ntp_server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.1.1.1</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">        </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ntp_server</span><span class="w">     </span><span class="c1"># ntp_server is ONLY availble in current Play</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Play2</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web1</span><span class="w"> </span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">      </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ntp_server</span><span class="w">       </span><span class="c1"># ntp_server cannot be found</span>
</code></pre></div>
<h5 id="-global-scope">- Global scope<a class="headerlink" href="#-global-scope" title="Permanent link">&para;</a></h5>
<p>the <strong>variable</strong> defined as ENV in CLI will be accessible everywhere
<div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml<span class="w"> </span>--extra-vars<span class="w"> </span><span class="s2">&quot;ntp_server=10.1.1.1&quot;</span>
</code></pre></div></p>
<h4 id="magic-variables">Magic Variables<a class="headerlink" href="#magic-variables" title="Permanent link">&para;</a></h4>
<h5 id="hostvars"><code>hostvars</code><a class="headerlink" href="#hostvars" title="Permanent link">&para;</a></h5>
<ol>
<li>
<p>to access variables defined in other <strong>hosts</strong>. Example:</p>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">web1 ansible_host=172.20.1.100</span>
<span class="l l-Scalar l-Scalar-Plain">web2 ansible_host=172.20.1.101 dns_server=10.5.5.4</span>
<span class="l l-Scalar l-Scalar-Plain">web3 ansible_host=172.20.1.102</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Print dns server</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web3</span><span class="w">                                   </span><span class="c1"># in web3</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># use **magic variable** `hostvars` to get the variable defined in web2</span>
<span class="w">    </span><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].dns_server }}&#39;</span><span class="w">    </span>
</code></pre></div>
</li>
<li>
<p>to get info about other <strong>hosts</strong>: <code>hostvars</code> can be used to get information about other <strong>hosts</strong> too:</p>
<div class="highlight"><pre><span></span><code><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].ansible_host }}&#39;</span>
<span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].ansible_facts.architecture }}&#39;</span>
<span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].ansible_facts.devices }}&#39;</span>
<span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].ansible_facts.mounts }}&#39;</span>
<span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;</span><span class="l l-Scalar l-Scalar-Plain">web2&#39;].ansible_facts.processor }}</span><span class="w">  </span><span class="c1"># 也可以这样写： msg: &#39;{{ hostvars[&#39;web2&#39;][&#39;ansible_facts&#39;][&#39;processor&#39;] }}&#39;</span>
</code></pre></div>
</li>
</ol>
<h5 id="groupsboston_nodes"><code>groups['boston_nodes']</code><a class="headerlink" href="#groupsboston_nodes" title="Permanent link">&para;</a></h5>
<p>it return all <strong>hosts</strong> under it:
<div class="highlight"><pre><span></span><code><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">groups[&#39;</span><span class="l l-Scalar l-Scalar-Plain">boston_nodes&#39;] }}&#39;</span>

<span class="c1"># result:</span>
<span class="l l-Scalar l-Scalar-Plain">web1</span>
<span class="l l-Scalar l-Scalar-Plain">web2</span>
</code></pre></div></p>
<h5 id="group_names"><code>group_names</code><a class="headerlink" href="#group_names" title="Permanent link">&para;</a></h5>
<p>it returns all the <strong>groups</strong> the current <strong>host</strong> belongs to:
<div class="highlight"><pre><span></span><code><span class="c1"># web1</span>
<span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{{</span><span class="nv"> </span><span class="s">group_names</span><span class="nv"> </span><span class="s">}}&#39;</span>

<span class="c1"># result:</span>
<span class="l l-Scalar l-Scalar-Plain">boston_nodes</span>
<span class="l l-Scalar l-Scalar-Plain">webservers</span>
</code></pre></div></p>
<h3 id="5-facts">5. Facts<a class="headerlink" href="#5-facts" title="Permanent link">&para;</a></h3>
<p>When you run a <strong>playbook</strong> and when Ansible connects to a target machine, a <code>setup</code> module runs automatically, and collects <strong>facts</strong> and saves in variable <code>ansible_facts</code>:</p>
<ol>
<li><strong>Basic system information</strong>: system architecture, operating system version, processor details, memory details, serial numbers etc</li>
<li><strong>Host's network connectivity</strong>: interfaces, IP addresses, FQDN, MAC address etc</li>
<li><strong>Device information</strong>: volumes, mounts, available space etc</li>
<li><strong>Date and time</strong></li>
</ol>
<div class="admonition note">
<p class="admonition-title">automatic Facts gathering</p>
<p>Whichever <strong>module</strong>/<strong>task</strong> you ran
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Print hello message</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">    </span><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Hello from Ansible!</span>
</code></pre></div></p>
<p>if you run the above <strong>playbook</strong> you will see 2 tasks:</p>
<p><img src="../imgs/setup_module.png" width=600 /></p>
</div>
<div class="admonition info">
<p class="admonition-title">disable facts gathering</p>
<p>There are 2 ways to disable the <strong>facts</strong> gathering:</p>
<ol>
<li>
<p>disable in <strong>play</strong>
    <div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Print hello message</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no</span><span class="w">  </span><span class="c1"># disable fact gathering</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">    </span><span class="nt">msg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Hello from Ansible!</span>
</code></pre></div></p>
<p>only one task will be executed:</p>
<p><img src="../imgs/setup_module_disabled.png" /></p>
</li>
<li>
<p>in <code>ansible.cfg</code> there is also a config to enable the fact gathering
<div class="highlight"><pre><span></span><code><span class="na">gathering</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">implicit</span><span class="w">  </span><span class="c1"># change it to explicit if you want to disable it</span>
</code></pre></div></p>
</li>
</ol>
<p>⚠️ Priority: 1. <code>gather_facts</code> in <strong>playbook</strong> &gt; 2. <code>gathering</code> in ansible.cfg</p>
</div>
<h3 id="6-playbook">6. Playbook<a class="headerlink" href="#6-playbook" title="Permanent link">&para;</a></h3>
<p>A <strong>Playbook</strong> is a single YAML file containing a set of <strong>plays</strong>. A <strong>Play</strong> defines set of <strong>tasks</strong> to be run on host. A <strong>task</strong> is a single action </p>
<p>Example - Playbook contains 1 Play:
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Play 1</span><span class="w">      </span><span class="c1"># &lt;-- name of the play</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span><span class="w">  </span><span class="c1"># &lt;-- 💗 the host you want to run is ALWAYS on &quot;play&quot; level</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span><span class="w">            </span><span class="c1"># &lt;-- tasks to excute</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Execute command ‘date’</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">date</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Execute script on server</span>
<span class="w">      </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test_script.sh</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install httpd service</span>
<span class="w">      </span><span class="nt">yum</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Start web server</span>
<span class="w">      </span><span class="nt">service</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">started</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>hosts</code> is defined in <strong>inventory</strong></p>
</div>
<h4 id="task">Task<a class="headerlink" href="#task" title="Permanent link">&para;</a></h4>
<p>is an action that accomplished by a <strong>module</strong>. For example, the highlighted parts are all <strong>modules</strong>:</p>
<p><img src="../imgs/module.png" width=400 /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>all available <strong>modules</strong> can be found either on the online doc or using:
<div class="highlight"><pre><span></span><code>ansible-doc<span class="w"> </span>-l
</code></pre></div></p>
</div>
<h4 id="to-run">to run<a class="headerlink" href="#to-run" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml

ansible-playbook<span class="w"> </span>--help
</code></pre></div>
<h4 id="to-verify">to verify<a class="headerlink" href="#to-verify" title="Permanent link">&para;</a></h4>
<p>two ways to verify:</p>
<ol>
<li><strong>Syntax Check mode</strong>:
    <div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml<span class="w"> </span>--syntax-check
</code></pre></div></li>
<li><strong>Check mode</strong>: dry run without actual change. --&gt; Not all <strong>modules</strong> support this 
    <div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml<span class="w"> </span>--check
</code></pre></div></li>
<li><strong>Diff mode</strong>: provides before &amp; after comparison
    <div class="highlight"><pre><span></span><code>ansible-playbook<span class="w"> </span>playbook.yml<span class="w"> </span>--diff
</code></pre></div></li>
</ol>
<h4 id="to-lint">to lint<a class="headerlink" href="#to-lint" title="Permanent link">&para;</a></h4>
<p>make sure the <strong>Playbook</strong> adheres to best practices and doesn't have any style-related issues.
<div class="highlight"><pre><span></span><code>ansible-lint<span class="w"> </span>playbook.yml
</code></pre></div></p>
<h4 id="conditionals">Conditionals<a class="headerlink" href="#conditionals" title="Permanent link">&para;</a></h4>
<p>with <strong>conditionals</strong>, you can aggregate code from:
<div class="highlight"><pre><span></span><code><span class="c1"># install NGINX on Debian</span>
<span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">debian_hosts</span><span class="w"> </span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX on Debian</span>
<span class="w">      </span><span class="nt">apt</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">          </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>

<span class="c1"># install NGINX on Redhat</span>
<span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redhat_hosts</span><span class="w"> </span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX on Redhat</span>
<span class="w">       </span><span class="l l-Scalar l-Scalar-Plain">yum</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">          </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
</code></pre></div></p>
<p>aggregated version:
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span><span class="w"> </span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX on Redhat</span>
<span class="w">      </span><span class="nt">yum</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">          </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">      </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ansible_os_family == &quot;Redhat&quot;</span><span class="w">   </span><span class="c1"># with condition</span>

<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install NGINX on Debian</span>
<span class="w">      </span><span class="nt">apt</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">          </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<span class="w">      </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ansible_os_family == &quot;Debian&quot;</span><span class="w">   </span><span class="c1"># with condition</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Operator</p>
<ul>
<li><code>and</code></li>
<li><code>or</code>    </li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Example: Condition with Registering Variable</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check status of a service and email if its down</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service httpd status</span>
<span class="w">      </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="w">            </span><span class="c1"># define Registering Variable</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">mail</span><span class="p">:</span>
<span class="w">      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin@company.com</span>
<span class="w">      </span><span class="nt">subject</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service Alert</span>
<span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Httpd Service is down</span>
<span class="w">      </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">result.stdout.find(&#39;down&#39;) != -1</span><span class="w">  </span><span class="c1"># use Condition</span>
</code></pre></div>
</div>
<h4 id="loop">Loop<a class="headerlink" href="#loop" title="Permanent link">&para;</a></h4>
<h5 id="loop_1"><code>loop</code><a class="headerlink" href="#loop_1" title="Permanent link">&para;</a></h5>
<p><strong>Item</strong> is saved in a variable named <code>{{ item }}</code></p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Print</span><span class="nv"> </span><span class="s">list</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">fruits&#39;</span>
<span class="w">    </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">    </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">      </span><span class="nt">fruits</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Apple</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Banana</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Grapes</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Orange</span>
<span class="w">    </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;echo</span><span class="nv"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item</span><span class="nv"> </span><span class="s">}}&quot;&#39;</span>
<span class="w">        </span><span class="nt">loop</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">fruits</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="w">        </span><span class="c1"># loop</span>
</code></pre></div>
<h5 id="with_"><code>with_*</code><a class="headerlink" href="#with_" title="Permanent link">&para;</a></h5>
<p>this is the OLD grammar, there are lots of <strong>lookup directives</strong>:</p>
<ul>
<li><code>with_items</code></li>
<li><code>with_file</code></li>
<li><code>with_url</code></li>
<li><code>with_mongodb</code>
...</li>
</ul>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Print</span><span class="nv"> </span><span class="s">list</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">fruits&#39;</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">fruits</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Apple</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Banana</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Grapes</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Orange</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;echo</span><span class="nv"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item</span><span class="nv"> </span><span class="s">}}&quot;&#39;</span>
<span class="w">      </span><span class="nt">with_items</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">fruits</span><span class="nv"> </span><span class="s">}}&quot;</span><span class="w">   </span><span class="c1"># with_*                    </span>
</code></pre></div></p>
<h3 id="7-module">7. Module<a class="headerlink" href="#7-module" title="Permanent link">&para;</a></h3>
<p>Ansible <strong>modules</strong> are categorized into various groups based on their functionality, such as:</p>
<ul>
<li>System</li>
<li>Commands</li>
<li>Files</li>
<li>Database</li>
<li>Cloud</li>
<li>Windows</li>
</ul>
<div class="admonition note">
<p class="admonition-title"><code>command</code></p>
<p><code>command</code> excutes a command on a remote note (<a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/command_module.html">doc</a>)</p>
<p>The <strong>parameters</strong> should be used in the <code>command</code> module. For example:
<img src="../imgs/module_command_parameters.png" width=600 /></p>
<div class="highlight"><pre><span></span><code><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># task 1: simply use BASH</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Display resolv.conf contents</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat /etc/resolv.conf</span>

<span class="w">  </span><span class="c1"># task 2: use parameter `chdir`</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Display resolv.conf contents</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat resolv.conf chdir=/etc</span>
</code></pre></div>
<p>⚠️ both <strong>task 1</strong> and <strong>task 2</strong> did the same thing. But in <strong>task 2</strong>, the <code>chdir</code> <strong>parameter</strong> performs a check first to make sure the <code>/etc/</code> directory exits</p>
</div>
<div class="admonition note">
<p class="admonition-title"><code>script</code></p>
<p><code>script</code> transfers a local script to <strong>Remote Nodes</strong> and executes it.</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Play 1</span>
<span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run a script on remote server</span>
<span class="w">    </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/some/local/script.sh -arg1 -arg2</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title"><code>service</code></p>
<p>to manage Services – Start, Stop, Restart</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Start Services in order</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Start the database service</span>
<span class="w">      </span><span class="nt">service</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span><span class="w">   </span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">started</span><span class="w">    </span><span class="c1"># [Idempotency] to ENSURE the postgresql&#39;s state is &quot;started&quot;</span>
<span class="w">        </span><span class="c1"># or write it in oneline: service: name=postgresql state=started</span>
</code></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Idempotency / 幂等性</p>
<p>幂等性 指的是：一个操作执行一次与执行多次，对系统状态产生的影响是完全相同的。</p>
<p>换句话说，你可以在任何时候（包括第一次、第二次、第N次）安全地运行同一个 Ansible 任务或剧本，而不会因为重复执行导致意外的结果或错误。</p>
<p>举例：（1）用Ansible Playbook不会导致结果重复 （2）用CLI有可能会导致重复的结果！
<img src="../imgs/idempotency.png" width=600 /></p>
</div>
<h3 id="8-plugin">8. Plugin<a class="headerlink" href="#8-plugin" title="Permanent link">&para;</a></h3>
<p>Even through Ansible provides a rich set of built-in <strong>modules</strong> and features, you soon realize that you need additional functionality --&gt; thats when we need <strong>Plugin</strong>. </p>
<h4 id="types_1">Types<a class="headerlink" href="#types_1" title="Permanent link">&para;</a></h4>
<p>there are different types of plugins:</p>
<ul>
<li><strong>inventory plugin</strong>: 告诉 Ansible “我有哪些主机”和“如何连接它们”。可以从文件、云服务、数据库、API <u>动态生成 <strong>inventory</strong></u></li>
<li><strong>module plugin</strong>: 用于自定义 <strong>module</strong></li>
<li><strong>action plugin</strong>: 负责任务在执行 <strong>module</strong> 前后的逻辑，比如：动态决定是否调用模块，修改模块输出</li>
<li><strong>callback plugin</strong>: 定义 Ansible 执行任务时的输出格式、日志记录、或外部通知行为。</li>
<li><strong>lookup plugin</strong>: Retrieves data from external sources for use in playbooks (e.g., read secrets, configs). <code>lookup('file', 'myconfig.txt')</code> - 读取本地文件内容</li>
</ul>
<h4 id="modules-and-plugins-index">Modules and Plugins Index<a class="headerlink" href="#modules-and-plugins-index" title="Permanent link">&para;</a></h4>
<p>the <strong>Modules and Plugins Index</strong> is <u>a centralized and organized list</u> that provides detailed information about the available <strong>modules</strong> and <strong>plugins</strong> in Ansible.</p>
<p>👉 <a href="https://docs.ansible.com/ansible/latest/collections/all_plugins.html">Indexes of all modules and plugins</a></p>
<p><code>ansible-inventory --list -i aws_inventory.py</code> | to list all hosts in our AWS inventory using this script.</p>
<!--

## remote_user
<div class="highlight"><pre><span></span><code><span class="nt">remote_user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
</code></pre></div>

## vars
<div class="highlight"><pre><span></span><code><span class="nt">vars</span><span class="p">:</span>
<span class="w">    </span><span class="nt">tablename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"> </span>
<span class="w">    </span><span class="nt">tableowner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">someuser</span>

<span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Rename table {{ tablename }} to bar</span><span class="w"> </span>
<span class="w">      </span><span class="nt">postgresql_table</span><span class="p">:</span>
<span class="w">        </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">tablename</span><span class="w"> </span><span class="p p-Indicator">}}</span><span class="w"> </span>
<span class="w">        </span><span class="nt">rename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
</code></pre></div>
-->

<h3 id="9-handlers">9. Handlers<a class="headerlink" href="#9-handlers" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">background</p>
<p>imagine you want to change some system settings on a Web server, to get the changes alive, you usually need to restart the server.</p>
<p>--&gt; this is error-prone and time-consuming</p>
</div>
<p>With <strong>Ansible Handlers</strong>, you can define an <strong>action</strong> to <u>restart the web server service</u> and <u>associate it with the <strong>task</strong></u> that modifies the configuration file. 
<pre class="mermaid"><code>flowchart LR
    A((Handlers))--&gt;|text|B[Task]</code></pre></p>
<div class="admonition info">
<p class="admonition-title">Benefits</p>
<ul>
<li>prevents manual intervention</li>
<li>reduces human error</li>
<li>improves automation efficiency</li>
</ul>
</div>
<p>Example:
<div class="highlight"><pre><span></span><code><span class="c1"># playbook.yml</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy Application</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">application_servers</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Copy Application Code</span>
<span class="w">      </span><span class="nt">copy</span><span class="p">:</span>
<span class="w">        </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app_code/</span>
<span class="w">        </span><span class="nt">dest</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/application/</span>
<span class="w">      </span><span class="nt">notify</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Restart Application Service</span><span class="w">   </span><span class="c1"># 🔔 notify the Handler named &quot;Restart Application Service&quot;</span>

<span class="w">  </span><span class="nt">handlers</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Restart Application Service</span><span class="w">     </span><span class="c1"># the triggered Handler</span>
<span class="w">      </span><span class="nt">service</span><span class="p">:</span><span class="w">                              </span><span class="c1"># module</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">application_service</span><span class="w">           </span><span class="c1"># the service to restart</span>
<span class="w">        </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">restarted</span><span class="w">                    </span><span class="c1"># desired state</span>
</code></pre></div></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li><strong>handlers</strong> are defined in <strong>Playbook</strong></li>
<li><strong>handlers</strong> are triggerd by <strong>task</strong>'s notification</li>
<li>⚠️ Both <strong>handlers</strong> and <strong>tasks</strong> use <strong>Ansible Modules</strong>!</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>🚨 <strong>Handlers</strong> in Ansible are only triggered <u>once per play</u>, even if multiple <strong>tasks</strong> notify them.</p>
<p>--&gt; this is because of Ansible's Idempotency <br/>
--&gt; If two configuration files change that <u>both require a service restart</u>, you don’t need two restarts — just one, at the end.</p>
</div>
<h3 id="10-roles">10. Roles<a class="headerlink" href="#10-roles" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Reality</th>
<th align="left">Ansible</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Roles</strong></td>
<td align="left">doctors, engineers, astronauts, policemen, chef</td>
<td align="left">database server, web server, Redis messaging server, backup server</td>
</tr>
<tr>
<td align="left"><strong>Assigning a Role</strong></td>
<td align="left"><u>to become engineer</u>:<br>- Go to medical school <br>- Earn medical degree <br>- Complete Residency Program <br>- Obtain License</td>
<td align="left"><u>to become database server, Ansible needs to run <strong>tasks</strong></u>:<br>- Installing Pre-requisites <br>- Installing mysql packages <br>- Configuring mysql service <br>- Configuring database and users</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">--&gt; Ansible uses <strong>Roles</strong> to package the <u>necessary tasks</u> to be able to reuse them!</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Benefits</p>
<ul>
<li>reusability</li>
<li>to organize Ansible code by introducing <u>best practises</u>. For instance the <strong>role</strong> <code>MySQL-Role</code>:
      <img src="../imgs/role_mysql.png" width=600 /></li>
<li>to share code in community, e.g. <a href="https://galaxy.ansible.com/ui/">Ansible Galaxy</a></li>
</ul>
</div>
<h4 id="create-a-role">create a role<a class="headerlink" href="#create-a-role" title="Permanent link">&para;</a></h4>
<ol>
<li>[optional] create skeleton using community tool <code>ansible-galaxy</code>
    <div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>init<span class="w"> </span>mysql
</code></pre></div>
    you might see:
    <div class="highlight"><pre><span></span><code>mysql
<span class="w">  </span>├──<span class="w"> </span>defaults
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>main.yml
<span class="w">  </span>├──<span class="w"> </span>files
<span class="w">  </span>├──<span class="w"> </span>handlers
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>main.yml
<span class="w">  </span>├──<span class="w"> </span>meta
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>main.yml
<span class="w">  </span>├──<span class="w"> </span>README.md
<span class="w">  </span>├──<span class="w"> </span>tasks
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>main.yml
<span class="w">  </span>├──<span class="w"> </span>templates
<span class="w">  </span>├──<span class="w"> </span>tests
<span class="w">  </span>│<span class="w">   </span>├──<span class="w"> </span>inventory
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>test.yml
<span class="w">  </span>└──<span class="w"> </span>vars
<span class="w">      </span>└──<span class="w"> </span>main.yml
</code></pre></div></li>
<li>put the resources in the corresponding directories</li>
</ol>
<h4 id="use-a-role">use a role<a class="headerlink" href="#use-a-role" title="Permanent link">&para;</a></h4>
<p>there are different ways to use a role:</p>
<ol>
<li>put the <strong>role</strong> in the default role location: <code>/etc/ansible/roles</code><ul>
<li>the default role file is defined in the <code>*.cfg</code> file</li>
</ul>
</li>
<li>put the <strong>role</strong> folder directly under the <strong>playbook</strong>:
    <div class="highlight"><pre><span></span><code>my-playbook
<span class="w">  </span>├──<span class="w"> </span>playbook.yml
<span class="w">  </span>└──<span class="w"> </span>roles
<span class="w">      </span>└──<span class="w"> </span>mysql<span class="w">   </span><span class="c1"># the &quot;mysql&quot; role folder</span>
</code></pre></div></li>
</ol>
<h4 id="ansible-galaxy">Ansible Galaxy<a class="headerlink" href="#ansible-galaxy" title="Permanent link">&para;</a></h4>
<p>to <strong>find</strong> a role, use the Ansible Galaxy UI or:
<div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>search<span class="w"> </span>mysql
</code></pre></div></p>
<p>to <strong>use</strong> a role:
1. install it
    <div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>install<span class="w"> </span>geerlingguy.mysql

<span class="c1"># specify the directory</span>
ansible-galaxy<span class="w"> </span>install<span class="w"> </span>geerlingguy.mysql<span class="w"> </span>-p<span class="w"> </span>./roles
</code></pre></div>
2. use in playbook:
    <div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install and Configure MySQL</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-server</span>
<span class="w">  </span><span class="nt">roles</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">geerlingguy.mysql</span>
<span class="w">      </span><span class="nt">become</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yes</span><span class="w">   </span><span class="c1"># execute the role by escalating privileges</span>
<span class="w">      </span><span class="nt">vars</span><span class="p">:</span><span class="w">         </span><span class="c1"># pass Aditional Parameters!</span>
<span class="w">        </span><span class="nt">mysql_user_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">db-user</span>
</code></pre></div></p>
<p>to <strong>view</strong> currently installed roles:
<div class="highlight"><pre><span></span><code>ansible-config<span class="w"> </span>list
ansible-config<span class="w"> </span>dump<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ROLE
</code></pre></div></p>
<h3 id="11-collections">11. Collections<a class="headerlink" href="#11-collections" title="Permanent link">&para;</a></h3>
<p>as Network Engineer, you need to <u>config &amp; manage large network infrastructure</u> from different venders, such as Cisco, Juniper, Arista. Ansible provides <strong>built-in network modules</strong>, but you still need vender-specifc modules, they are available as <strong>Collections</strong>:</p>
<ul>
<li><code>network.cisco</code></li>
<li><code>network.juniper</code></li>
<li><code>network.arista</code></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">naming</p>
<p>Naming of the <strong>Collection</strong> consists of:
  - Namespace
  - Collection</p>
</div>
<h4 id="create">create<a class="headerlink" href="#create" title="Permanent link">&para;</a></h4>
<p><strong>Ansible Collection</strong> packages and distributes <strong>modules</strong>, <strong>roles</strong>, <strong>plugins</strong> etc. It can be created by Community or Vendor.</p>
<p>you can create your own <strong>collection</strong>:
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_namespace.my_collection</span><span class="w">  </span><span class="c1"># format: [Namespace].[Collection]</span>

<span class="w">  </span><span class="nt">roles</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_custom_role</span>

<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Use custom module</span>
<span class="w">      </span><span class="nt">my_custom_module</span><span class="p">:</span>
<span class="w">        </span><span class="nt">param</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">collection's skeleton</p>
<div class="highlight"><pre><span></span><code>my_collection/
<span class="w">  </span>├──<span class="w"> </span>docs/
<span class="w">  </span>├──<span class="w"> </span>galaxy.yml
<span class="w">  </span>├──<span class="w"> </span>plugins/
<span class="w">  </span>│<span class="w">   </span>└──<span class="w"> </span>modules/
<span class="w">  </span>│<span class="w">       </span>└──<span class="w"> </span>my_custom_module.py
<span class="w">  </span>├──<span class="w"> </span>README.md
<span class="w">  </span>└──<span class="w"> </span>roles/
<span class="w">      </span>└──<span class="w"> </span>my_custom_role/
<span class="w">          </span>└──<span class="w"> </span>tasks/
<span class="w">              </span>└──<span class="w"> </span>main.yml
</code></pre></div>
</div>
<h4 id="install">install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h4>
<p>install single <strong>collection</strong>:
<div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>network.cisco
</code></pre></div></p>
<p>install multiple <strong>collections</strong> use <code>requirement.yml</code> file:
<div class="highlight"><pre><span></span><code><span class="c1"># requirement.yml</span>
<span class="nn">---</span>
<span class="nt">collections</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">amazon.aws</span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.5.0&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">community.mysql</span>
<span class="w">    </span><span class="nt">src</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/ansible-collections/community.mysql</span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1.2.1&quot;</span>
</code></pre></div>
install the dependencies file:
<div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.yml
</code></pre></div></p>
<h4 id="use">use<a class="headerlink" href="#use" title="Permanent link">&para;</a></h4>
<p>after installing collection <code>amazon.aws</code>, you can use it:</p>
<div class="highlight"><pre><span></span><code>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>amazon.aws
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">amazon.aws</span><span class="w">      </span><span class="c1"># specify the collection</span>

<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create an S3 bucket</span>
<span class="w">      </span><span class="nt">aws_s3_bucket</span><span class="p">:</span><span class="w">  </span><span class="c1"># use the collection</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-bucket</span>
<span class="w">        </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-west-1</span>
</code></pre></div>
<h3 id="x-ansible-cli-summary">x. Ansible CLI Summary<a class="headerlink" href="#x-ansible-cli-summary" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>ansible</code></td>
<td align="left">Runs a single ad-hoc command or module on one or more hosts <strong>without a playbook</strong></td>
</tr>
<tr>
<td align="left"><code>ansible-config</code></td>
<td align="left">Displays, validates, or manages <strong>Ansible configuration</strong> settings (e.g., the <code>*.cfg</code>).</td>
</tr>
<tr>
<td align="left"><code>ansible-console</code></td>
<td align="left">Provides <strong>an interactive REPL shell</strong> for running Ansible ad-hoc tasks in real time.</td>
</tr>
<tr>
<td align="left"><code>ansible-doc</code></td>
<td align="left">Shows documentation and examples</td>
</tr>
<tr>
<td align="left"><code>ansible-galaxy</code></td>
<td align="left">Manages <strong>Ansible roles</strong> and collections—download, install, create, or publish them to Galaxy or private repos.</td>
</tr>
<tr>
<td align="left"><code>ansible-inventory</code></td>
<td align="left">Displays or manipulates inventory data, showing which <strong>target hosts and groups</strong></td>
</tr>
<tr>
<td align="left"><code>ansible-playbook</code></td>
<td align="left">Executes playbooks (YAML files)</td>
</tr>
<tr>
<td align="left"><code>ansible-pull</code></td>
<td align="left">Runs playbooks by pulling them from a remote Git repo</td>
</tr>
<tr>
<td align="left"><code>ansible-vault</code></td>
<td align="left">Encrypts, decrypts, or edits sensitive data files (e.g., passwords) used in playbooks securely.</td>
</tr>
<tr>
<td align="left"><code>ansible-lint</code></td>
<td align="left">Finds potential errors before execution<br/> ⚠️ Not part of Ansible Core — it’s <u>a community-maintained tool</u></td>
</tr>
</tbody>
</table>
<ul>
<li>/etc/ansible/hosts</li>
</ul>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.tabs.link", "navigation.prunes"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.407015b8.min.js"></script>
      
    
  </body>
</html>