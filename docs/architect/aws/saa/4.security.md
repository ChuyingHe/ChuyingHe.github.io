# 1. CloudTrail
AWS CloudTrail is a service that provides a history of API calls and events made in your AWS account. It's the logging and auditing service.

# 2. KMS (Key Management Service)
AWS encryption service:

- easy way to control access to data, AWS manages key
- collaborate with **IAM** for authorization
- easy integration with: EBS, S3, RedShift, RDS, SSM ...
- has CLI and SDK

## two encrypt/decrypt types
1. Symmetric (AES-256 key)
    - same key for encrypt & decrypt
    - one never get access to the KMS key unencrypted (must call API to use)
    - suitable for **envelope encryption**
2. Asymmetric (RSA & ECC key-pair)
    - PublicKey: for encryption. Downloadable
    - PrivateKey: for decryption. One never get access to it unencrypted


## key types

|KMS Key|Customer Managed Key|AWS Managed Key|AWS Owned Key|
|:-|:-|:-|:-|
||created by user|used by AWS|created & managed by AWS|
|User can define Key Policy?|✅|✅|X|
|User can use CloudTrail for auditing?|✅|✅|X|
|User can manage?|✅|X|X|
|Used only for my AWS account?|✅|✅|X|
|Automatic Rotation?|customizable (365 default)|automatic, every 1 year|Varies|
|On-demand Rotation?|✅|X|X|


!!! note "Key Policy"
    In AWS KMS, a key policy is a resource-based policy document that defines who has access to the CMK and what they can do with it.
